<div class="bg-gray-950 py-16 sm:py-24">
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
        <div class="mx-auto max-w-2xl text-center">
            <h2 class="text-base/7 font-bold text-yellow-500 uppercase tracking-widest">Knowledge Base</h2>
            <p class="mt-2 text-4xl font-bold tracking-tight text-white sm:text-5xl filter drop-shadow-[0_0_8px_rgba(252,211,77,0.4)]">FAQ & Tips</p>
            <p class="mt-6 text-lg/8 text-gray-300">
                Find answers to common questions and discover hidden tips to dominate the streets of Rockport City.
            </p>
        </div>

        {{ collection:faq as="faq" }} {{# You can omit as="items" if you loop with {{ faq }} #}}
        <div class="mx-auto mt-16 grid max-w-2xl auto-rows-fr grid-cols-1 gap-8 sm:mt-20 lg:mx-0 lg:max-w-none lg:grid-cols-3">
            {{# Start looping through each FAQ entry here #}}
            {{ faq }} {{# This loops through each entry in the 'faq' collection #}}
            <article class="relative isolate flex flex-col justify-end overflow-hidden rounded-2xl bg-gray-800 px-8 pb-8 pt-80 sm:pt-48 lg:pt-80 border-2 border-gray-700 shadow-xl shadow-gray-900/50 transform transition-transform duration-300 hover:scale-103 hover:shadow-yellow-900/40">
                {{ if featured_image }}
                <img src="{{ featured_image:url }}" alt="{{ featured_image:alt ?? title }}" class="absolute inset-0 -z-10 h-full w-full object-cover">
                {{# Add a solid dark overlay on top of the image #}}
                <div class="absolute inset-0 -z-10 h-full w-full bg-gradient-to-t from-gray-950 via-gray-950/70 to-transparent"></div>
                {{ else }}
                <div class="absolute inset-0 -z-10 h-full w-full bg-gradient-to-t from-gray-900 via-gray-900/60 to-transparent"></div>
                {{ /if }}

                <div class="absolute inset-0 -z-10 rounded-2xl ring-1 ring-inset ring-gray-900/10"></div>

                <div class="flex flex-wrap items-center gap-y-1 overflow-hidden text-sm leading-6 text-gray-300">
                    <time datetime="{{ publish_date ?? date format='Y-m-d' }}" class="mr-8">{{ publish_date ?? date format='F j, Y' }}</time>
                    <div class="-ml-4 flex items-center gap-x-4">
                        <div class="flex gap-x-2.5">
                            <span class="sr-only">{{ author:name }}</span>
                            {{# Check if author exists and has an avatar #}}
                            {{ if author && author:avatar }}
                            <img src="{{ author:avatar:url }}" alt="{{ author:name ?? 'Author' }}'s avatar" class="h-6 w-6 rounded-full object-cover">
                            {{ else }}
                            {{# Fallback to a default SVG icon if no avatar #}}
                            <svg class="h-6 w-6 flex-none bg-gray-800 rounded-full p-1 text-gray-400" fill="currentColor" viewBox="0 0 24 24">
                                <path fill-rule="evenodd" d="M18.685 19.02A2.25 2.25 0 0020.25 17.25V4.5a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 4.5v12.75a2.25 2.25 0 001.565 2.02A5.98 5.98 0 0112 21a5.98 5.98 0 016.685-1.98zM12 9a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5zm0 6.75a4.502 4.502 0 00-4.486 4.721A.75.75 0 007.5 21h9a.75.75 0 00.486-1.529A4.502 4.502 0 0012 15.75z" clip-rule="evenodd" />
                            </svg>
                            {{ /if }}
                            {{ author:name }}
                        </div>
                    </div>
                </div>
                <h3 class="mt-3 text-3xl font-bold leading-6 text-white filter drop-shadow-[0_0_8px_rgba(252,211,77,0.4)]">
                    <a href="{{ url }}">
                        <span class="absolute inset-0"></span>
                        {{ title }}
                    </a>
                </h3>
                <p class="mt-2 text-base/6 text-gray-300 line-clamp-3">{{ article_content | strip_tags | trim | safe_truncate(150, '...') }}</p>
            </article>
            {{ /faq }} {{# End of the loop for each FAQ entry #}}
        </div>
        {{ /collection:faq }}
    </div>
</div>


